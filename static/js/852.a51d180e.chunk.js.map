{"version":3,"file":"static/js/852.a51d180e.chunk.js","mappings":"0PAEaA,EAAUC,EAAAA,GAAAA,KAAH,kKAUPC,EAAaD,EAAAA,GAAAA,MAAH,wC,SCKvB,EAbmB,SAAC,GAAkB,IAAhBE,EAAe,EAAfA,SACpB,OACE,UAACH,EAAD,CAASG,SAAUA,EAAnB,WACE,SAACD,EAAD,CAAYE,KAAK,YACjB,mBAAQC,KAAK,SAAb,sBAGL,E,iBCcD,EApBkB,SAAC,GAAsB,IAApBC,EAAmB,EAAnBA,MAAOC,EAAY,EAAZA,MAC1B,OACE,SAAC,IAAD,UACGD,EAAME,KAAI,SAAAC,GAAI,aAAI,SAAC,IAAD,WAAwB,SAAC,KAAD,CAAMC,GAAE,UAAKD,EAAKE,IACZC,MAAO,CAAEC,KAAK,iBAAD,OAAmBN,IADtC,mBACkDE,EAAKK,aADvD,QACgEL,EAAKL,QAD9EK,EAAKE,GAAxB,KAIpB,E,SCwBD,EA9Be,WACb,OAA0CI,EAAAA,EAAAA,UAAS,IAAnD,eAAOC,EAAP,KAAsBC,EAAtB,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAcF,EAAaG,IAAI,UAErCC,EAAAA,EAAAA,YAAU,WACHF,GAGL,mCAAC,qGACmBG,EAAAA,EAAAA,IAAmBH,GADtC,OACOI,EADP,OAECR,EAAiBQ,EAAIC,KAAKC,SAF3B,2CAAD,sDAID,GAAE,CAACN,IASJ,OACE,4BACE,SAAC,EAAD,CAAYlB,SATK,SAACyB,GACpBA,EAAEC,iBACF,IAAMC,EAAQF,EAAEG,OAAOC,SAASC,OAAOH,MACvCV,EAAgB,CAAEb,MAAOuB,IACzBF,EAAEG,OAAOG,OACV,IAKIlB,EAAcmB,OAAS,GAAI,SAAC,EAAD,CAAW7B,MAAOU,EAAeT,MAAOc,IAAkB,OAG3F,C","sources":["components/SearchForm/SearchForm.styled.js","components/SearchForm/SearchForm.jsx","components/FilmsList/FilmsList.jsx","pages/Movies/Movies.jsx"],"sourcesContent":["import styled from 'styled-components';\n\nexport const FormBox = styled.form`\n  display: flex;\n  width: 100%;\n  max-width: 300px;\n  margin-left: auto;\n  margin-right: auto;\n  margin-top: 10px;\n  height: 30px;\n`;\n\nexport const InputField = styled.input`\n  width: 100%;\n`;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { FormBox, InputField } from './SearchForm.styled';\n\nconst SearchForm = ({ onSubmit }) => {\n  return (\n    <FormBox onSubmit={onSubmit}>\n      <InputField name='search' />\n      <button type='submit'>Search</button>\n    </FormBox>\n  );\n};\n\nSearchForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default SearchForm;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { List, ListItem } from './FilmList.styled';\n\nconst FilmsList = ({ films, query }) => {\n  return (\n    <List>\n      {films.map(film => <ListItem key={film.id}><Link to={`${film.id}`}\n                                                       state={{ from: `/movies?query=${query}` }}>{film.title ?? film.name}</Link></ListItem>)}\n    </List>\n  );\n};\n\nFilmsList.propTypes = {\n  films: PropTypes.arrayOf(PropTypes.shape(\n    {\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string,\n      name: PropTypes.string,\n    },\n  )),\n  query: PropTypes.string.isRequired,\n};\n\nexport default FilmsList;\n\n\n","import React, { useEffect, useState } from 'react';\nimport SearchForm from '../../components/SearchForm/SearchForm';\nimport FilmsList from '../../components/FilmsList/FilmsList';\nimport { fetchFilmsBySearch } from '../../api-servises';\nimport { useSearchParams } from 'react-router-dom';\n\nconst Movies = () => {\n  const [filmsBySearch, setFilmsBySearch] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const searchQuery = searchParams.get('query');\n\n  useEffect(() => {\n    if (!searchQuery) {\n      return;\n    }\n    (async function getFilmsBySearch() {\n      const res = await fetchFilmsBySearch(searchQuery);\n      setFilmsBySearch(res.data.results);\n    })();\n  }, [searchQuery]);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const value = e.target.elements.search.value;\n    setSearchParams({ query: value });\n    e.target.reset();\n  };\n\n  return (\n    <div>\n      <SearchForm onSubmit={handleSubmit} />\n      {filmsBySearch.length > 0 ? <FilmsList films={filmsBySearch} query={searchQuery} /> : null}\n    </div>\n  );\n};\n\nexport default Movies;\n"],"names":["FormBox","styled","InputField","onSubmit","name","type","films","query","map","film","to","id","state","from","title","useState","filmsBySearch","setFilmsBySearch","useSearchParams","searchParams","setSearchParams","searchQuery","get","useEffect","fetchFilmsBySearch","res","data","results","e","preventDefault","value","target","elements","search","reset","length"],"sourceRoot":""}